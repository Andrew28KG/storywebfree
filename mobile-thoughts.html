<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#d49da1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Interactive Content Hub - Mobile</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    :root {
      --bg-color: #e6e1dd;
      --primary-color: #d49da1;
      --highlight-color: #f2a7af;
      --text-color: #333;
      --dark-text: #222;
      --light-text: #ffffff;
      --card-bg: #ffffff;
      --card-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      --transition: all 0.3s ease;
      --primary-color-rgb: 212, 157, 161;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }
    
    body {
      font-family: 'Montserrat', sans-serif;
      background-color: var(--bg-color);
      background-image: none;
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      padding: 2rem 0.75rem;
      overflow-x: hidden;
      position: relative;
      width: 100%;
    }
    
    /* Overlay */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, rgba(212, 157, 161, 0.3), rgba(232, 188, 191, 0.3));
      z-index: -1;
    }
    
    header {
      text-align: center;
      margin-bottom: 2rem;
      color: white;
      background: rgba(212, 157, 161, 1);
      padding: 1rem 1.5rem;
      border-radius: 12px;
      box-shadow: var(--card-shadow);
      width: 100%;
      position: relative;
    }
    
    header h1 {
      font-family: 'Lora', serif;
      font-size: 2rem;
      margin-bottom: 0.5rem;
      letter-spacing: 1px;
    }
    
    header p {
      font-size: 0.9rem;
      opacity: 0.9;
      margin-bottom: 0.5rem;
    }
    
    /* Mobile Section Cards */
    .hub-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 1.2rem;
      width: 100%;
    }
    
    .section-card {
      background: #ffffff;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--card-shadow);
      width: 100%;
      transition: var(--transition);
      position: relative;
      border: 1px solid rgba(212, 157, 161, 0.3);
    }
    
    .section-card:active {
      transform: scale(0.98);
    }
    
    .card-icon {
      position: absolute;
      top: -15px;
      right: -15px;
      background: var(--primary-color);
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.3rem;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      z-index: 2;
    }
    
    .card-image {
      height: 150px;
      background-size: cover;
      background-position: center;
      position: relative;
    }
    
    .card-content {
      padding: 1.2rem;
      position: relative;
    }
    
    .card-content h2 {
      font-family: 'Lora', serif;
      color: var(--primary-color);
      font-size: 1.3rem;
      margin-bottom: 0.6rem;
    }
    
    .card-content p {
      color: var(--text-color);
      font-size: 0.9rem;
      line-height: 1.5;
      margin-bottom: 1rem;
    }
    
    .button {
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 0.6rem 1.2rem;
      border-radius: 30px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
      width: 100%;
    }
    
    .button:hover, .button:active {
      background: var(--highlight-color);
      transform: translateY(-2px);
    }
    
    .button i {
      font-size: 1rem;
    }
    
    /* Fixed Volume Control - Mobile Optimized */
    .fixed-volume-control {
      position: fixed;
      bottom: 15px;
      right: 15px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      background: rgba(var(--primary-color-rgb), 0.9);
      padding: 8px 12px;
      border-radius: 12px;
      z-index: 1000;
      transition: all 0.3s ease;
      border: none;
      box-sizing: border-box;
      max-width: 130px;
    }
    
    #global-volume-btn {
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: none;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: var(--transition);
      font-size: 0.9rem;
    }
    
    #global-volume-btn:active {
      background: rgba(255, 255, 255, 0.3);
    }
    
    .global-volume-slider-container {
      width: 80px;
      height: 10px;
      background: rgba(255, 255, 255, 1);
      border-radius: 10px;
      overflow: hidden;
      position: relative;
      border: none;
    }
    
    #global-volume-slider {
      -webkit-appearance: none;
      width: 100%;
      height: 100%;
      background: transparent;
      margin: 0;
      outline: none;
    }
    
    #global-volume-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--primary-color);
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
    }
    
    /* Mobile Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 100;
      overflow-y: auto;
      padding: 0.5rem;
      align-items: flex-start;
      justify-content: center;
      box-sizing: border-box;
    }
    
    .modal.active {
      display: flex;
    }
    
    .modal-content {
      background: #ffffff;
      width: 100%;
      margin: 0.5rem auto;
      border-radius: 12px;
      padding: 1.25rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      position: relative;
      transition: all 0.4s ease-out;
      max-height: 85vh;
      overflow-y: auto;
      overflow-x: hidden;
      box-sizing: border-box;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }
    
    .modal-header {
      border-bottom: 2px solid var(--primary-color);
      padding-bottom: 0.75rem;
      margin-bottom: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }
    
    .modal-header h2 {
      font-family: 'Lora', serif;
      color: var(--primary-color);
      font-size: 1.3rem;
      width: 85%;
    }
    
    .close-modal {
      background: none;
      border: none;
      font-size: 1.2rem;
      color: var(--text-color);
      cursor: pointer;
      transition: var(--transition);
      padding: 0.5rem;
    }
    
    .close-modal:active {
      color: var(--primary-color);
      transform: rotate(90deg);
    }
    
    .modal-body {
      margin-bottom: 1.25rem;
      color: var(--text-color);
      line-height: 1.6;
      font-size: 0.95rem;
    }
    
    .modal-body p {
      margin-bottom: 0.75rem;
    }
    
    .modal-body h3 {
      margin: 1rem 0 0.5rem;
      color: var(--primary-color);
      font-family: 'Lora', serif;
      font-size: 1.1rem;
    }
    
    .modal-body ul {
      margin-left: 1.25rem;
      margin-bottom: 0.75rem;
    }
    
    .modal-body li {
      margin-bottom: 0.5rem;
    }
    
    /* Simple Audio Player for Mobile */
    .mobile-audio-player {
      background: var(--primary-color);
      border-radius: 12px;
      padding: 0.75rem;
      margin: 0.75rem 0;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    .mobile-audio-controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }
    
    .mobile-play-btn {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      color: white;
      font-size: 1rem;
      transition: var(--transition);
    }
    
    .mobile-play-btn:active {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(0.95);
    }
    
    .mobile-audio-info {
      color: white;
      flex: 1;
      margin-left: 0.75rem;
      font-size: 0.9rem;
    }
    
    .mobile-audio-title {
      font-weight: bold;
      margin-bottom: 0.25rem;
    }
    
    .mobile-time-info {
      font-size: 0.8rem;
      opacity: 0.9;
    }
    
    .mobile-progress-container {
      background: rgba(255, 255, 255, 0.2);
      height: 6px;
      border-radius: 3px;
      overflow: hidden;
      cursor: pointer;
    }
    
    .mobile-progress-bar {
      background: white;
      height: 100%;
      width: 0%;
      transition: width 0.1s linear;
    }
    
    /* Main Music Player - Mobile Version */
    .main-player-container {
      background: white;
      border-radius: 12px;
      box-shadow: var(--card-shadow);
      padding: 1rem;
      margin-top: 2rem;
      width: 100%;
    }
    
    .main-player-title {
      font-family: 'Lora', serif;
      color: var(--primary-color);
      text-align: center;
      font-size: 1.4rem;
      margin-bottom: 1rem;
      border-bottom: 2px solid var(--primary-color);
      padding-bottom: 0.5rem;
    }
    
    .playlist-controls {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    
    .category-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      justify-content: center;
      margin-bottom: 0.5rem;
    }
    
    .playlist-btn {
      background: #f5f5f5;
      border: none;
      padding: 0.5rem 0.75rem;
      border-radius: 20px;
      font-size: 0.8rem;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .playlist-btn.active {
      background: var(--primary-color);
      color: white;
    }
    
    .shuffle-btn {
      background: #f0f0f0;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .now-playing-info {
      display: flex;
      align-items: center;
      background: rgba(var(--primary-color-rgb), 0.1);
      padding: 0.75rem;
      border-radius: 10px;
      margin-bottom: 0.75rem;
    }
    
    .now-playing-img {
      width: 50px;
      height: 50px;
      border-radius: 8px;
      overflow: hidden;
      margin-right: 1rem;
    }
    
    .now-playing-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .now-playing-details h3 {
      font-size: 1rem;
      color: var(--text-color);
      margin-bottom: 0.25rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 200px;
    }
    
    .now-playing-details p {
      font-size: 0.8rem;
      color: var(--primary-color);
    }
    
    .main-player-controls {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 0.75rem;
    }
    
    .control-btn {
      background: none;
      border: none;
      font-size: 1.1rem;
      color: var(--text-color);
      cursor: pointer;
      transition: var(--transition);
    }
    
    .play-btn {
      background: var(--primary-color);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .main-progress-container {
      background: #f0f0f0;
      height: 5px;
      border-radius: 3px;
      cursor: pointer;
      margin-bottom: 0.5rem;
    }
    
    .main-progress-bar {
      background: var(--primary-color);
      height: 100%;
      width: 0%;
      border-radius: 3px;
      transition: width 0.1s linear;
    }
    
    .main-time-info {
      display: flex;
      justify-content: space-between;
      font-size: 0.75rem;
      color: var(--text-color);
      margin-bottom: 1rem;
    }
    
    .playlist-container {
      background: #f9f9f9;
      border-radius: 10px;
      overflow: hidden;
      max-height: 300px;
      overflow-y: auto;
    }
    
    .playlist-header {
      display: grid;
      grid-template-columns: 30px 1fr 80px;
      padding: 0.5rem 1rem;
      background: #f0f0f0;
      font-weight: bold;
      font-size: 0.8rem;
      color: var(--text-color);
      position: sticky;
      top: 0;
      z-index: 1;
    }
    
    .playlist {
      list-style: none;
    }
    
    .playlist-item {
      display: grid;
      grid-template-columns: 30px 1fr 80px;
      padding: 0.75rem 1rem;
      border-bottom: 1px solid #eee;
      cursor: pointer;
      transition: var(--transition);
      align-items: center;
    }
    
    .playlist-item:hover, .playlist-item.active {
      background: rgba(var(--primary-color-rgb), 0.1);
    }
    
    .playlist-item-number {
      font-size: 0.8rem;
      color: #777;
    }
    
    .playlist-item-title {
      font-size: 0.9rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .playlist-item-category {
      font-size: 0.8rem;
      color: var(--primary-color);
      text-align: right;
    }
    
    /* Custom scrollbar for playlist */
    .playlist-container::-webkit-scrollbar {
      width: 6px;
    }
    
    .playlist-container::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    
    .playlist-container::-webkit-scrollbar-thumb {
      background: #ddd;
      border-radius: 3px;
    }
    
    .playlist-container::-webkit-scrollbar-thumb:hover {
      background: #ccc;
    }
    
    /* Special Scott Street Player - Updated Styles */
    .special-player-container {
      background: #ffffff;
      border-radius: 15px;
      box-shadow: var(--card-shadow);
      padding: 1.5rem;
      margin: 2rem 0;
      width: 100%;
    }
    
    .special-player-title {
      font-family: 'Lora', serif;
      color: var(--primary-color);
      margin-bottom: 1rem;
      text-align: center;
      font-size: 1.3rem;
      position: relative;
    }
    
    .special-player-title::after {
      content: '';
      position: absolute;
      width: 60px;
      height: 2px;
      background: var(--primary-color);
      bottom: -6px;
      left: 50%;
      transform: translateX(-50%);
    }
    
    .special-player {
      margin: 1rem 0;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
    }
    
    .special-player-background {
      background-size: cover;
      background-position: center;
      position: relative;
      padding: 1.5rem 1rem;
      min-height: 180px;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
    }
    
    .special-player-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to right, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.6));
      z-index: 1;
    }
    
    .special-player-content {
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    
    .special-player-info {
      flex: 1;
      color: white;
    }
    
    .special-player-song-title {
      font-family: 'Lora', serif;
      font-size: 1.5rem;
      margin-bottom: 0.3rem;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
    }
    
    .special-player-artist {
      font-size: 1rem;
      margin-bottom: 0.5rem;
      opacity: 0.9;
    }
    
    .special-player-description {
      font-style: italic;
      line-height: 1.4;
      margin-bottom: 1rem;
      opacity: 0.8;
      font-size: 0.9rem;
    }
    
    .special-player-controls {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .special-play-btn {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      color: white;
      font-size: 1.2rem;
      transition: var(--transition);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    
    .special-play-btn:active {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(0.95);
    }
    
    .special-player-progress {
      flex: 1;
    }
    
    .special-progress-container {
      height: 5px;
      background: rgba(255, 255, 255, 0.2);
      cursor: pointer;
      position: relative;
      border-radius: 3px;
      overflow: hidden;
    }
    
    .special-progress-bar {
      background: var(--primary-color);
      height: 100%;
      width: 0%;
      transition: width 0.1s linear;
    }
    
    .special-time-info {
      display: flex;
      justify-content: space-between;
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.8rem;
      margin-top: 0.5rem;
    }
    
    .lyrics-container {
      margin-top: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      padding: 1rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      max-height: 150px;
      overflow-y: auto;
    }
    
    .lyrics-container::-webkit-scrollbar {
      width: 5px;
    }
    
    .lyrics-container::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.05);
    }
    
    .lyrics-container::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 5px;
    }
    
    .lyrics-title {
      font-size: 0.9rem;
      color: white;
      opacity: 0.8;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }
    
    .lyrics-content p {
      color: rgba(255, 255, 255, 0.6);
      font-size: 0.85rem;
      margin-bottom: 0.3rem;
      transition: all 0.3s ease;
      padding: 0.2rem 0;
    }
    
    .lyrics-content p.active {
      color: white;
      font-weight: 600;
      transform: scale(1.02);
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
    }
    
    .special-player.playing .special-play-btn {
      background: rgba(255, 255, 255, 0.35);
    }
    
    .special-player.playing .special-player-disc {
      animation-play-state: running;
    }
    
    /* Special Message Section */
    .special-message {
      margin: 2rem auto 1rem;
      position: relative;
      width: 90%;
      padding: 0 0.5rem;
    }
    
    .special-message::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      width: 100%;
      height: 1px;
      background: linear-gradient(to right, transparent, var(--primary-color), transparent);
      z-index: 1;
    }
    
    .message-content {
      background: #ffffff;
      padding: 1.5rem 1rem;
      border: 1px solid var(--primary-color);
      border-radius: 10px;
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
      text-align: center;
      position: relative;
      z-index: 2;
    }
    
    .message-indonesian {
      font-size: 1.3rem;
      font-family: 'Lora', serif;
      color: var(--primary-color);
      margin-bottom: 0.8rem;
      font-weight: 600;
    }
    
    .message-filipino {
      font-size: 1.1rem;
      font-style: italic;
      color: var(--text-color);
      margin-bottom: 0;
    }
    
    /* Flash Cards Section */
    .flash-cards-section {
      background: #ffffff;
      border-radius: 12px;
      box-shadow: var(--card-shadow);
      padding: 1.5rem 1rem;
      margin: 2rem auto;
      width: 95%;
      overflow: hidden;
    }
    
    .flash-cards-title {
      font-family: 'Lora', serif;
      color: var(--primary-color);
      margin-bottom: 1.5rem;
      text-align: center;
      font-size: 1.4rem;
      position: relative;
    }
    
    .flash-cards-title::after {
      content: '';
      position: absolute;
      width: 80px;
      height: 2px;
      background: var(--primary-color);
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
    }
    
    .flash-cards-container {
      position: relative;
      width: 100%;
      height: 150px;
      perspective: 1000px;
      margin: 0 auto;
    }
    
    .flash-card {
      position: absolute;
      width: 100%;
      height: 100%;
      left: 0;
      right: 0;
      margin: 0 auto;
      transform-style: preserve-3d;
      transition: all 0.5s ease;
      background: #f9f6f6;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      opacity: 0;
      visibility: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .flash-card.active {
      opacity: 1;
      visibility: visible;
      z-index: 3;
      transform: translateX(0) scale(1);
    }
    
    .flash-card.prev {
      opacity: 0.7;
      visibility: visible;
      z-index: 2;
      transform: translateX(-70%) scale(0.9);
    }
    
    .flash-card.next {
      opacity: 0.7;
      visibility: visible;
      z-index: 2;
      transform: translateX(70%) scale(0.9);
    }
    
    .flash-card-content {
      padding: 1.5rem;
      text-align: center;
      width: 100%;
    }
    
    .flash-card-text {
      font-size: 1.1rem;
      line-height: 1.5;
      color: var(--text-color);
      margin: 0;
      font-style: italic;
      position: relative;
    }
    
    .flash-card-text::before,
    .flash-card-text::after {
      font-family: 'Lora', serif;
      font-size: 2rem;
      color: var(--primary-color);
      opacity: 0.3;
      position: absolute;
    }
    
    .flash-card-text::before {
      content: '"';
      top: -20px;
      left: 0;
    }
    
    .flash-card-text::after {
      content: '"';
      bottom: -30px;
      right: 0;
    }
    
    .flash-cards-navigation {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-top: 1.5rem;
    }
    
    .flash-card-nav-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--primary-color);
      cursor: pointer;
      transition: all 0.3s ease;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .flash-card-nav-btn:hover {
      color: var(--highlight-color);
      transform: scale(1.1);
    }
    
    .flash-card.swipe-left {
      animation: swipeLeft 0.5s forwards;
    }
    
    .flash-card.swipe-right {
      animation: swipeRight 0.5s forwards;
    }
    
    @keyframes swipeLeft {
      from {
        transform: translateX(0) scale(1);
      }
      to {
        transform: translateX(-70%) scale(0.9);
        opacity: 0;
      }
    }
    
    @keyframes swipeRight {
      from {
        transform: translateX(0) scale(1);
      }
      to {
        transform: translateX(70%) scale(0.9);
        opacity: 0;
      }
    }
    
    @media (max-width: 400px) {
      .flash-cards-container {
        height: 180px;
      }
      
      .flash-card-text {
        font-size: 0.95rem;
      }
      
      .flash-card.prev {
        transform: translateX(-60%) scale(0.85);
      }
      
      .flash-card.next {
        transform: translateX(60%) scale(0.85);
      }
    }
    
    /* Back to Story Button */
    .back-to-story-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--primary-color);
      color: white;
      text-decoration: none;
      padding: 0.8rem 1.2rem;
      border-radius: 30px;
      margin: 2rem auto;
      width: 80%;
      max-width: 250px;
      font-size: 1rem;
      text-align: center;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
      transition: all 0.3s ease;
    }
    
    .back-to-story-btn i {
      margin-right: 0.5rem;
    }
    
    .back-to-story-btn:active {
      transform: translateY(2px);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      background: var(--highlight-color);
    }
  </style>
</head>
<body>
  <div class="overlay"></div>
  
  <header>
    <h1>Interactive Content Hub</h1>
    <p>A collection of resources for relaxation and inspiration</p>
  </header>
  
  <!-- Global Volume Control -->
  <div class="fixed-volume-control">
    <div class="global-volume-slider-container">
      <input type="range" id="global-volume-slider" min="0" max="100" value="80">
    </div>
    <button id="global-volume-btn">
      <i class="fas fa-volume-up"></i>
    </button>
  </div>
  
  <div class="hub-container">
    <!-- Motivation Section -->
    <div class="section-card">
      <div class="card-icon">
        <i class="fas fa-lightbulb"></i>
      </div>
      <div class="card-image" style="background-image: url('https://images.unsplash.com/photo-1522199755839-a2bacb67c546?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1472&q=80');"></div>
      <div class="card-content">
        <h2>Need Motivation?</h2>
        <p>Sometimes we all need a little extra encouragement to keep moving forward. Here are some positive affirmations to boost your day.</p>
        <button class="button" id="reassuring-btn">
          <i class="fas fa-hand-holding-heart"></i> Read Affirmations
        </button>
      </div>
    </div>
  
    <!-- Relaxation Section -->
    <div class="section-card">
      <div class="card-icon">
        <i class="fas fa-moon"></i>
      </div>
      <div class="card-image" style="background-image: url('https://images.unsplash.com/photo-1475483768296-6163e08872a1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');"></div>
      <div class="card-content">
        <h2>Time to Relax</h2>
        <p>Feeling stressed or having trouble sleeping? Music can help calm your mind and prepare your body for rest.</p>
        <button class="button" id="sleep-btn">
          <i class="fas fa-bed"></i> Relax & Unwind
        </button>
      </div>
    </div>
    
    <!-- Productivity Section -->
    <div class="section-card">
      <div class="card-icon">
        <i class="fas fa-tasks"></i>
      </div>
      <div class="card-image" style="background-image: url('https://images.unsplash.com/photo-1499750310107-5fef28a66643?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');"></div>
      <div class="card-content">
        <h2>Productivity Breaks</h2>
        <p>Regular breaks improve focus and productivity. Here are some ideas to refresh your mind and return to work with renewed energy.</p>
        <button class="button" id="break-btn">
          <i class="fas fa-peace"></i> Break Ideas
        </button>
      </div>
    </div>
  </div>
  
  <!-- Main Music Player Section -->
  <div class="main-player-container">
    <h2 class="main-player-title">Music Collection</h2>
    
    <div class="playlist-controls">
      <div class="category-buttons">
        <button class="playlist-btn active" data-category="all">All Songs</button>
        <button class="playlist-btn" data-category="filipino">Filipino</button>
        <button class="playlist-btn" data-category="english">English</button>
        <button class="playlist-btn" data-category="indonesian">Indonesian</button>
        <button class="playlist-btn" data-category="kpop">K-pop</button>
        <button class="playlist-btn shuffle-btn">
          <i class="fas fa-random"></i> Shuffle
        </button>
      </div>
      
      <div class="now-playing-info">
        <div class="now-playing-img">
          <img src="https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=80" alt="Now playing" id="now-playing-image">
        </div>
        <div class="now-playing-details">
          <h3 id="now-playing-title">Select a song to play</h3>
          <p id="now-playing-category">-</p>
        </div>
      </div>
      
      <div class="main-player-controls">
        <button id="main-prev-btn" class="control-btn">
          <i class="fas fa-step-backward"></i>
        </button>
        <button id="main-play-btn" class="control-btn play-btn">
          <i class="fas fa-play"></i>
        </button>
        <button id="main-next-btn" class="control-btn">
          <i class="fas fa-step-forward"></i>
        </button>
      </div>
      
      <div class="main-progress-container" id="main-progress-container">
        <div class="main-progress-bar" id="main-progress-bar"></div>
      </div>
      <div class="main-time-info">
        <span id="main-current-time">0:00</span>
        <span id="main-duration">0:00</span>
      </div>
    </div>
    
    <div class="playlist-container">
      <div class="playlist-header">
        <span class="playlist-header-item">#</span>
        <span class="playlist-header-item">Title</span>
        <span class="playlist-header-item">Category</span>
      </div>
      
      <ul class="playlist" id="playlist">
        <!-- Songs will be populated here via JavaScript -->
      </ul>
    </div>
  </div>
  
  <!-- Special Scott Street Player -->
  <div class="special-player-container">
    <h2 class="special-player-title">A Special Song for You: Scott Street</h2>
    
    <div class="special-player">
      <div class="special-player-background" style="background-image: url('images/Scottstreet.png');">
        <div class="special-player-overlay"></div>
        
        <div class="special-player-content">
          <div class="special-player-info">
            <h3 class="special-player-song-title">Scott Street</h3>
            <p class="special-player-artist">Phoebe Bridgers</p>
            <p class="special-player-description">
              "Walking Scott Street, feeling like a stranger<br>
              With an open heart, open container..."
            </p>
          </div>
          
          <div class="special-player-controls">
            <button id="special-play-btn" class="special-play-btn">
              <i class="fas fa-play"></i>
            </button>
            
            <div class="special-player-progress">
              <div class="special-progress-container" id="special-progress-container">
                <div class="special-progress-bar" id="special-progress-bar"></div>
              </div>
              <div class="special-time-info">
                <span id="special-current-time">0:00</span>
                <span id="special-duration">0:00</span>
              </div>
            </div>
          </div>
          
          <div class="lyrics-container">
            <div class="lyrics-title">Lyrics</div>
            <div class="lyrics-content">
              <p data-time="16">Walking Scott Street, feeling like a stranger</p>
              <p data-time="22">With an open heart, open container</p>
              <p data-time="30">I've got a stack of mail and a tall can</p>
              <p data-time="36">It's a shower beer, it's a payment plan</p>
              <p data-time="44">There's helicopters over my head</p>
              <p data-time="51">Every night when I go to bed</p>
              <p data-time="57">Spending money and I earned it</p>
              <p data-time="65">When I'm lonely, that's when I'll burn it</p>
              <br>
              <p data-time="72">Do you feel ashamed</p>
              <p data-time="83">When you hear my name?</p>
              <br>
              <p data-time="96">I asked you, "How is your sister?</p>
              <p data-time="104">I heard she got her degree"</p>
              <p data-time="111">And I said, "That makes me feel old"</p>
              <p data-time="118">You said, "What does that make me?"</p>
              <br>
              <p data-time="125">I asked you, "How is playing drums?"</p>
              <p data-time="133">You said, "It's too much shit to carry"</p>
              <p data-time="141">"And what about the band?"</p>
              <p data-time="146">You said, "They're all getting married"</p>
              <br>
              <p data-time="155">Do you feel ashamed</p>
              <p data-time="165">When you hear my name?</p>
              <br>
              <p data-time="185">Ooh-ooh, ooh</p>
              <p data-time="193">Ooh-ooh, ooh</p>
              <p data-time="200">Ooh-ooh, ooh</p>
              <p data-time="207">Ooh-ooh, ooh</p>
              <p data-time="214">Ooh-ooh, ooh</p>
              <p data-time="221">Ooh-ooh, ooh</p>
              <p data-time="228">Ooh-ooh, ooh</p>
              <p data-time="235">Ooh-ooh, ooh</p>
              <p data-time="242">Ooh-ooh, ooh</p>
              <br>
              <p data-time="250">Anyway, don't be a stranger</p>
              <p data-time="258">(Ooh-ooh, ooh)</p>
              <p data-time="265">(Ooh-ooh, ooh) Anyway, don't be a stranger</p>
              <p data-time="281">Don't be a stranger</p>
              <p data-time="285">(Ooh-ooh, ooh)</p>
              <p data-time="292">Ooh-ooh, ooh</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Inspirational Quotes Section (Replacing Special Message Section) -->
  <div class="special-message">
    <div class="message-content">
      <p class="message-indonesian">"The future belongs to those who believe in the beauty of their dreams"</p>
      <p class="message-filipino">"Every moment is a fresh beginning"</p>
    </div>
  </div>
  
  <!-- Flash Cards Section -->
  <div class="flash-cards-section">
    <h2 class="flash-cards-title">Inspirational Thoughts</h2>
    
    <div class="flash-cards-container">
      <div class="flash-card prev">
        <div class="flash-card-content">
          <p class="flash-card-text">You are stronger than you think</p>
        </div>
      </div>
      
      <div class="flash-card active">
        <div class="flash-card-content">
          <p class="flash-card-text">Take a moment to breathe</p>
        </div>
      </div>
      
      <div class="flash-card next">
        <div class="flash-card-content">
          <p class="flash-card-text">Every day is a new opportunity</p>
        </div>
      </div>
    </div>
    
    <div class="flash-cards-navigation">
      <button class="flash-card-nav-btn" id="prev-card-btn">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button class="flash-card-nav-btn" id="next-card-btn">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>
  
  <!-- Modals -->
  <!-- Motivation Modal -->
  <div class="modal" id="reassuring-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Positive Affirmations</h2>
        <button class="close-modal">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <p>Sometimes we all need a reminder of our inner strength and resilience. Here are some positive affirmations that might help:</p>

        <ul>
          <li>I am capable of amazing things.</li>
          <li>I believe in my abilities and potential.</li>
          <li>I am worthy of good things in my life.</li>
          <li>I am making progress every day.</li>
          <li>I can handle challenges that come my way.</li>
          <li>My potential to succeed is infinite.</li>
          <li>I am enough just as I am.</li>
          <li>I choose to focus on what I can control.</li>
          <li>I am resilient and can overcome difficulties.</li>
          <li>I am becoming better every day.</li>
          <li>My positive attitude will lead to positive outcomes.</li>
          <li>I trust my journey, even when it's difficult.</li>
        </ul>

        <p>Remember that everyone faces difficulties. Being kind to yourself during challenging times is just as important as working hard toward your goals.</p>
      </div>
    </div>
  </div>
  
  <!-- Sleep Help Modal -->
  <div class="modal" id="sleep-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Relaxation & Sleep</h2>
        <button class="close-modal">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <p>Music can be a powerful tool to help calm your mind and prepare your body for rest. Here are some soothing tracks that might help you relax:</p>
        <h3>Calming Music for Relaxation</h3>
        
        <!-- Existing audio players preserved -->
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Outoftime.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Out of Time</div>
              <div class="mobile-time-info">0:00 / 3:35</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Herewithme.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Here with Me</div>
              <div class="mobile-time-info">0:00 / 3:20</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Sleepwell.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Sleepwell</div>
              <div class="mobile-time-info">0:00 / 4:10</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Cry.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Cry</div>
              <div class="mobile-time-info">0:00 / 3:45</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Scientist.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Scientist</div>
              <div class="mobile-time-info">0:00 / 3:05</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/PlutoProjector.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Pluto Projector</div>
              <div class="mobile-time-info">0:00 / 3:50</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Lastnightonearth.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Last Night on Earth</div>
              <div class="mobile-time-info">0:00 / 4:25</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Nosuprises.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">No Surprises</div>
              <div class="mobile-time-info">0:00 / 3:40</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>

        <h3>Relaxation Tips</h3>
        <p>Try to maintain a consistent sleep schedule, create a relaxing bedtime routine, and limit screen time before bed for better quality rest.</p>
      </div>
    </div>
  </div>
  
  <!-- Break Modal -->
  <div class="modal" id="break-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Break Ideas</h2>
        <button class="close-modal">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <p>Taking regular breaks is essential for productivity and mental wellbeing. Here are some ideas for short breaks during your day:</p>
        
        <h3>Quick Break Activities</h3>
        <ul>
          <li>Stand up and stretch for 2-3 minutes</li>
          <li>Take a short 5-minute walk</li>
          <li>Drink a glass of water</li>
          <li>Look away from your screen and focus on something in the distance</li>
          <li>Practice deep breathing for 1-2 minutes</li>
          <li>Do a quick mindfulness exercise</li>
          <li>Tidy up your immediate workspace</li>
          <li>Write down three things you're grateful for</li>
        </ul>
        
        <h3>Music for Your Break</h3>
        
        <!-- Existing audio players preserved -->
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Always.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Always</div>
              <div class="mobile-time-info">0:00 / 3:15</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Superpowers.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Superpowers</div>
              <div class="mobile-time-info">0:00 / 3:40</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Youllbeinmyheart.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">You'll Be In My Heart</div>
              <div class="mobile-time-info">0:00 / 4:20</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/OperaHouse.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Opera House</div>
              <div class="mobile-time-info">0:00 / 3:30</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Heavenly.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Heavenly</div>
              <div class="mobile-time-info">0:00 / 3:25</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Sunsetz.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Sunsetz</div>
              <div class="mobile-time-info">0:00 / 3:55</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Signoftimes.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Sign of the Times</div>
              <div class="mobile-time-info">0:00 / 5:40</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>
        
        <div class="mobile-audio-player">
          <div class="mobile-audio-controls">
            <button class="mobile-play-btn" data-file="music/Countonme.mp3">
              <i class="fas fa-play"></i>
            </button>
            <div class="mobile-audio-info">
              <div class="mobile-audio-title">Count on Me</div>
              <div class="mobile-time-info">0:00 / 3:15</div>
            </div>
          </div>
          <div class="mobile-progress-container">
            <div class="mobile-progress-bar"></div>
          </div>
        </div>

        <h3>Remember</h3>
        <p>It's important to take breaks and disconnect from time to time. Short breaks can improve your focus, productivity, and overall wellbeing. Remember that taking care of yourself isn't selfishâ€”it's necessary for sustainable performance.</p>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Mobile version loaded');
      
      // Volume control functionality
      const volumeBtn = document.getElementById('global-volume-btn');
      const volumeSlider = document.getElementById('global-volume-slider');
      let globalVolume = 0.8;
      let allAudios = [];
      
      // Create a central audio manager
      const audioManager = {
        activeAudio: null,
        
        // Register an audio element with the manager
        register: function(audio) {
          if (!allAudios.includes(audio)) {
            allAudios.push(audio);
            audio.volume = globalVolume;
          }
          return audio;
        },
        
        // Update volume for all audio elements
        updateVolume: function(volume) {
          allAudios.forEach(audio => {
            audio.volume = volume;
          });
          console.log(`Updated volume to ${volume} for ${allAudios.length} audio elements`);
        },
        
        // Pause all audio except the specified one
        pauseAllExcept: function(exceptAudio) {
          // If main audio is playing and it's not the exception, pause it
          if (mainAudio && mainAudio !== exceptAudio && !mainAudio.paused) {
            mainAudio.pause();
            mainPlayBtn.innerHTML = '<i class="fas fa-play"></i>';
            isPlaying = false;
          }
          
          // If special Scott Street audio is playing and it's not the exception, pause it
          if (specialAudio && specialAudio !== exceptAudio && !specialAudio.paused) {
            specialAudio.pause();
            specialPlayBtn.querySelector('i').className = 'fas fa-play';
            specialPlayer.classList.remove('playing');
          }
          
          // Pause any other audio players that might be playing
          playButtons.forEach(btn => {
            if (btn.audio && btn.audio !== exceptAudio && !btn.audio.paused) {
              btn.audio.pause();
              btn.innerHTML = '<i class="fas fa-play"></i>';
              btn.classList.remove('playing');
            }
          });
          
          // Clear currentAudio reference if needed
          if (currentAudio && currentAudio !== exceptAudio) {
            currentAudio = null;
          }
        }
      };
      
      // Volume control event listeners
      volumeBtn.addEventListener('click', function() {
        if (volumeSlider.value > 0) {
          volumeSlider.dataset.lastValue = volumeSlider.value;
          volumeSlider.value = 0;
          volumeBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
          globalVolume = 0;
        } else {
          volumeSlider.value = volumeSlider.dataset.lastValue || 80;
          volumeBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
          globalVolume = volumeSlider.value / 100;
        }
        
        // Update all audio volumes
        audioManager.updateVolume(globalVolume);
      });
      
      volumeSlider.addEventListener('input', function() {
        globalVolume = this.value / 100;
        
        // Update volume icon
        if (this.value > 0) {
          volumeBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
        } else {
          volumeBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
        }
        
        // Update all audio volumes
        audioManager.updateVolume(globalVolume);
      });
      
      // Modal functionality
      const modals = document.querySelectorAll('.modal');
      const closeButtons = document.querySelectorAll('.close-modal');
      const reassuringBtn = document.getElementById('reassuring-btn');
      const sleepBtn = document.getElementById('sleep-btn');
      const breakBtn = document.getElementById('break-btn');
      
      // Flash Cards Functionality
      const flashCards = [
        "You are stronger than you think",
        "Take a moment to breathe",
        "Every day is a new opportunity",
        "Small progress is still progress",
        "Your efforts will pay off",
        "Believe in yourself",
        "Focus on what you can control",
        "It's okay to rest and recharge",
        "The best is yet to come"
      ];
      
      let currentCardIndex = 0;
      
      function updateFlashCards() {
        const cards = document.querySelectorAll('.flash-card');
        
        // Calculate indices for prev and next cards
        let prevIndex = currentCardIndex - 1;
        if (prevIndex < 0) prevIndex = flashCards.length - 1;
        
        let nextIndex = currentCardIndex + 1;
        if (nextIndex >= flashCards.length) nextIndex = 0;
        
        // Update card text
        cards[0].querySelector('.flash-card-text').textContent = `"${flashCards[prevIndex]}"`;
        cards[1].querySelector('.flash-card-text').textContent = `"${flashCards[currentCardIndex]}"`;
        cards[2].querySelector('.flash-card-text').textContent = `"${flashCards[nextIndex]}"`;
      }
      
      // Initialize flash cards when reassuring modal is opened
      reassuringBtn.addEventListener('click', () => {
        openModal('reassuring-modal');
      });
      
      sleepBtn.addEventListener('click', () => openModal('sleep-modal'));
      breakBtn.addEventListener('click', () => openModal('break-modal'));
      
      // Flash card navigation
      document.getElementById('prev-card-btn')?.addEventListener('click', function() {
        const cards = document.querySelectorAll('.flash-card');
        
        // Add animation classes
        cards[1].classList.add('swipe-right');
        
        setTimeout(() => {
          // Update current card index
          currentCardIndex--;
          if (currentCardIndex < 0) currentCardIndex = flashCards.length - 1;
          
          // Update cards
          updateFlashCards();
          
          // Remove animation classes
          cards.forEach(card => {
            card.classList.remove('swipe-right');
          });
        }, 500);
      });
      
      document.getElementById('next-card-btn')?.addEventListener('click', function() {
        const cards = document.querySelectorAll('.flash-card');
        
        // Add animation classes
        cards[1].classList.add('swipe-left');
        
        setTimeout(() => {
          // Update current card index
          currentCardIndex++;
          if (currentCardIndex >= flashCards.length) currentCardIndex = 0;
          
          // Update cards
          updateFlashCards();
          
          // Remove animation classes
          cards.forEach(card => {
            card.classList.remove('swipe-left');
          });
        }, 500);
      });
      
      function openModal(modalId) {
        document.getElementById(modalId).classList.add('active');
        document.body.style.overflow = 'hidden';
      }
      
      // Function to close all modals
      function closeAllModals() {
        modals.forEach(modal => {
          modal.classList.remove('active');
        });
        document.body.style.overflow = '';
        
        // Pause all audio when modal is closed
        allAudios.forEach(audio => {
          if (audio && !audio.paused) {
            audio.pause();
          }
        });
        
        // Reset all play buttons
        playButtons.forEach(btn => {
          if (btn.classList.contains('playing')) {
            btn.innerHTML = '<i class="fas fa-play"></i>';
            btn.classList.remove('playing');
          }
        });
        
        // Reset main player if needed
        if (isPlaying) {
          mainPlayBtn.innerHTML = '<i class="fas fa-play"></i>';
          isPlaying = false;
        }
        
        // Reset special player if needed
        specialPlayBtn.querySelector('i').className = 'fas fa-play';
        specialPlayer.classList.remove('playing');
        
        currentAudio = null;
      }
      
      closeButtons.forEach(button => {
        button.addEventListener('click', closeAllModals);
      });
      
      window.addEventListener('click', (e) => {
        modals.forEach(modal => {
          if (e.target === modal) {
            closeAllModals();
          }
        });
      });
      
      // Audio player functionality for individual players
      const playButtons = document.querySelectorAll('.mobile-play-btn');
      let currentAudio = null;
      
      playButtons.forEach(button => {
        button.addEventListener('click', function() {
          const audioFile = this.getAttribute('data-file');
          const playerContainer = this.closest('.mobile-audio-player');
          const progressBar = playerContainer.querySelector('.mobile-progress-bar');
          const timeInfo = playerContainer.querySelector('.mobile-time-info');
          
          // If we don't have an audio element for this button yet, create one
          if (!this.audio) {
            this.audio = new Audio(audioFile);
            
            // Register with the manager and set initial volume
            audioManager.register(this.audio);
            
            // Update progress bar as audio plays
            this.audio.addEventListener('timeupdate', function() {
              const percent = (this.currentTime / this.duration) * 100;
              progressBar.style.width = percent + '%';
              
              // Update time display
              const currentMinutes = Math.floor(this.currentTime / 60);
              const currentSeconds = Math.floor(this.currentTime % 60).toString().padStart(2, '0');
              const totalMinutes = Math.floor(this.duration / 60) || 0;
              const totalSeconds = Math.floor(this.duration % 60).toString().padStart(2, '0') || '00';
              
              timeInfo.textContent = `${currentMinutes}:${currentSeconds} / ${totalMinutes}:${totalSeconds}`;
            });
            
            // When audio ends
            this.audio.addEventListener('ended', function() {
              button.innerHTML = '<i class="fas fa-play"></i>';
              button.classList.remove('playing');
              currentAudio = null;
            });
          }
          
          // Handle click on progress bar to seek
          playerContainer.querySelector('.mobile-progress-container').addEventListener('click', function(e) {
            if (!button.audio || !button.audio.duration) return;
            
            const percent = e.offsetX / this.offsetWidth;
            button.audio.currentTime = percent * button.audio.duration;
            progressBar.style.width = percent * 100 + '%';
          });
          
          // If this button is already playing, pause it
          if (this.classList.contains('playing')) {
            this.audio.pause();
            this.innerHTML = '<i class="fas fa-play"></i>';
            this.classList.remove('playing');
            currentAudio = null;
          } else {
            // First pause all other audio
            audioManager.pauseAllExcept(this.audio);
            
            // Then play this audio
            this.audio.play();
            this.innerHTML = '<i class="fas fa-pause"></i>';
            this.classList.add('playing');
            currentAudio = this.audio;
          }
        });
      });
      
      // Main music player
      const songs = [
        // Filipino Songs
        {
          title: "Buwan",
          file: "music/Buwan.mp3",
          category: "filipino"
        },
        {
          title: "Kung Wala Ka",
          file: "music/KungWalaKa.mp3",
          category: "filipino"
        },
        {
          title: "Pasilyo",
          file: "music/Pasilyo.mp3",
          category: "filipino"
        },
        {
          title: "Umaasa",
          file: "music/Umaasa.mp3",
          category: "filipino"
        },
        {
          title: "Multo",
          file: "music/CupofJoe.mp3",
          category: "filipino"
        },
        
        // Indonesian Songs
        {
          title: "Bunga Maaf",
          file: "music/BungaMaaf.mp3",
          category: "indonesian"
        },
        {
          title: "Sungguh Cinta",
          file: "music/SungguhCinta.mp3",
          category: "indonesian"
        },
        {
          title: "Hati Hati",
          file: "music/hatihati.mp3",
          category: "indonesian"
        },
        
        // K-pop Songs
        {
          title: "You Were Beautiful",
          file: "music/Youwerebeautiful.mp3",
          category: "kpop"
        },
        {
          title: "Cherish My Love",
          file: "music/Cherishmylove.mp3",
          category: "kpop"
        },
        {
          title: "Love.",
          file: "music/love..mp3",
          category: "kpop"
        },
        {
          title: "ONLY",
          file: "music/ONLY.mp3",
          category: "kpop"
        },
        {
          title: "Some",
          file: "music/some.mp3",
          category: "kpop"
        },
        {
          title: "Magnetic",
          file: "music/Magnetic.mp3",
          category: "kpop"
        },
        
        // English Songs
        {
          title: "Always",
          file: "music/Always.mp3",
          category: "english"
        },
        {
          title: "A Piece of You",
          file: "music/Apieceofyou.mp3",
          category: "english"
        },
        {
          title: "Count on Me",
          file: "music/Countonme.mp3",
          category: "english"
        },
        {
          title: "Cry",
          file: "music/Cry.mp3",
          category: "english"
        },
        {
          title: "Die with a Smile",
          file: "music/Diewithasmile.mp3",
          category: "english"
        },
        {
          title: "End of the World",
          file: "music/Endofworld.mp3",
          category: "english"
        },
        {
          title: "Exception",
          file: "music/Exception.mp3",
          category: "english"
        },
        {
          title: "Heavenly",
          file: "music/Heavenly.mp3",
          category: "english"
        },
        {
          title: "Here with Me",
          file: "music/Herewithme.mp3",
          category: "english"
        },
        {
          title: "Last Night on Earth",
          file: "music/Lastnightonearth.mp3",
          category: "english"
        },
        {
          title: "Like You",
          file: "music/Likeyou.mp3",
          category: "english"
        },
        {
          title: "Luther",
          file: "music/Luther.mp3",
          category: "english"
        },
        {
          title: "No Surprises",
          file: "music/Nosuprises.mp3",
          category: "english"
        },
        {
          title: "Opera House",
          file: "music/OperaHouse.mp3",
          category: "english"
        },
        {
          title: "Out of Time",
          file: "music/Outoftime.mp3",
          category: "english"
        },
        {
          title: "Scientist",
          file: "music/Scientist.mp3",
          category: "english"
        },
        {
          title: "Scott Street",
          file: "music/ScottStreet.mp3",
          category: "english"
        },
        {
          title: "Sign of the Times",
          file: "music/Signoftimes.mp3",
          category: "english"
        },
        {
          title: "Sleepwell",
          file: "music/Sleepwell.mp3",
          category: "english"
        },
        {
          title: "Superpowers",
          file: "music/Superpowers.mp3",
          category: "english"
        },
        {
          title: "Sunsetz",
          file: "music/Sunsetz.mp3",
          category: "english"
        },
        {
          title: "You'll Be In My Heart",
          file: "music/Youllbeinmyheart.mp3",
          category: "english"
        },
        {
          title: "Seasons",
          file: "music/Seasons.mp3",
          category: "english"
        }
      ];
      
      let currentSongIndex = 0;
      const playlist = document.getElementById('playlist');
      const mainPlayBtn = document.getElementById('main-play-btn');
      const prevBtn = document.getElementById('main-prev-btn');
      const nextBtn = document.getElementById('main-next-btn');
      const progressBar = document.getElementById('main-progress-bar');
      const progressContainer = document.getElementById('main-progress-container');
      const currentTimeEl = document.getElementById('main-current-time');
      const durationEl = document.getElementById('main-duration');
      const nowPlayingTitle = document.getElementById('now-playing-title');
      const nowPlayingCategory = document.getElementById('now-playing-category');
      const nowPlayingImage = document.getElementById('now-playing-image');
      const categoryButtons = document.querySelectorAll('.playlist-btn');
      const shuffleBtn = document.querySelector('.shuffle-btn');
      
      let mainAudio = new Audio();
      // Register with the audio manager
      audioManager.register(mainAudio);
      
      let filteredSongs = [...songs];
      let isPlaying = false;
      let activeCategory = 'all';
      
      // Load songs into playlist
      function loadSongs() {
        playlist.innerHTML = '';
        
        filteredSongs.forEach((song, index) => {
          const li = document.createElement('li');
          li.classList.add('playlist-item');
          li.setAttribute('data-index', index);
          
          li.innerHTML = `
            <span class="playlist-item-number">${index + 1}</span>
            <span class="playlist-item-title">${song.title}</span>
            <span class="playlist-item-category">${song.category}</span>
          `;
          
          li.addEventListener('click', () => {
            currentSongIndex = index;
            loadSong(currentSongIndex);
            playSong();
          });
          
          playlist.appendChild(li);
        });
      }
      
      // Load a specific song
      function loadSong(index) {
        const currentSong = filteredSongs[index];
        mainAudio.src = currentSong.file;
        nowPlayingTitle.textContent = currentSong.title;
        nowPlayingCategory.textContent = currentSong.category;
        
        // Update active song in playlist
        document.querySelectorAll('.playlist-item').forEach((item, i) => {
          if (i === index) {
            item.classList.add('active');
          } else {
            item.classList.remove('active');
          }
        });
      }
      
      // Play song function
      function playSong() {
        // First pause all other audio
        audioManager.pauseAllExcept(mainAudio);
        
        isPlaying = true;
        mainPlayBtn.innerHTML = '<i class="fas fa-pause"></i>';
        mainAudio.play();
      }
      
      // Pause song function
      function pauseSong() {
        isPlaying = false;
        mainPlayBtn.innerHTML = '<i class="fas fa-play"></i>';
        mainAudio.pause();
      }
      
      // Previous song
      function prevSong() {
        currentSongIndex--;
        if (currentSongIndex < 0) {
          currentSongIndex = filteredSongs.length - 1;
        }
        loadSong(currentSongIndex);
        if (isPlaying) playSong();
      }
      
      // Next song
      function nextSong() {
        currentSongIndex++;
        if (currentSongIndex > filteredSongs.length - 1) {
          currentSongIndex = 0;
        }
        loadSong(currentSongIndex);
        if (isPlaying) playSong();
      }
      
      // Filter songs by category
      function filterSongs(category) {
        if (category === 'all') {
          filteredSongs = [...songs];
        } else {
          filteredSongs = songs.filter(song => song.category === category);
        }
        
        currentSongIndex = 0;
        loadSongs();
        
        if (filteredSongs.length > 0) {
          loadSong(0);
          if (isPlaying) playSong();
        } else {
          nowPlayingTitle.textContent = 'No songs in this category';
          nowPlayingCategory.textContent = '-';
          pauseSong();
        }
      }
      
      // Update progress bar as song plays
      mainAudio.addEventListener('timeupdate', () => {
        const currentTime = mainAudio.currentTime;
        const duration = mainAudio.duration;
        
        if (duration) {
          const progressPercent = (currentTime / duration) * 100;
          progressBar.style.width = `${progressPercent}%`;
          
          // Update time display
          const currentMinutes = Math.floor(currentTime / 60);
          const currentSeconds = Math.floor(currentTime % 60).toString().padStart(2, '0');
          const durationMinutes = Math.floor(duration / 60);
          const durationSeconds = Math.floor(duration % 60).toString().padStart(2, '0');
          
          currentTimeEl.textContent = `${currentMinutes}:${currentSeconds}`;
          durationEl.textContent = `${durationMinutes}:${durationSeconds}`;
        }
      });
      
      // Click on progress bar to seek
      progressContainer.addEventListener('click', (e) => {
        const width = progressContainer.clientWidth;
        const clickX = e.offsetX;
        const duration = mainAudio.duration;
        
        mainAudio.currentTime = (clickX / width) * duration;
      });
      
      // Song ends
      mainAudio.addEventListener('ended', () => {
        nextSong();
      });
      
      // Play/pause button event
      mainPlayBtn.addEventListener('click', () => {
        if (filteredSongs.length === 0) return;
        
        if (isPlaying) {
          pauseSong();
        } else {
          playSong();
        }
      });
      
      // Previous button event
      prevBtn.addEventListener('click', prevSong);
      
      // Next button event
      nextBtn.addEventListener('click', nextSong);
      
      // Category filter buttons
      categoryButtons.forEach(button => {
        button.addEventListener('click', () => {
          if (button.classList.contains('shuffle-btn')) return;
          
          categoryButtons.forEach(btn => btn.classList.remove('active'));
          button.classList.add('active');
          
          activeCategory = button.getAttribute('data-category');
          filterSongs(activeCategory);
        });
      });
      
      // Shuffle button
      shuffleBtn.addEventListener('click', () => {
        const currentSongs = [...filteredSongs];
        
        // Fisher-Yates shuffle algorithm
        for (let i = currentSongs.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [currentSongs[i], currentSongs[j]] = [currentSongs[j], currentSongs[i]];
        }
        
        filteredSongs = currentSongs;
        loadSongs();
        loadSong(0);
        currentSongIndex = 0;
        if (isPlaying) playSong();
      });
      
      // Special Scott Street Player
      const specialPlayBtn = document.getElementById('special-play-btn');
      const specialAudio = new Audio('music/ScottStreet.mp3');
      const specialPlayer = document.querySelector('.special-player');
      const specialProgressBar = document.getElementById('special-progress-bar');
      const specialProgressContainer = document.getElementById('special-progress-container');
      const specialCurrentTime = document.getElementById('special-current-time');
      const specialDuration = document.getElementById('special-duration');
      
      // Register special audio with the manager
      audioManager.register(specialAudio);
      
      // Play/Pause for Scott Street
      specialPlayBtn.addEventListener('click', () => {
        if (specialAudio.paused) {
          // First pause all other audio
          audioManager.pauseAllExcept(specialAudio);
          
          specialAudio.play()
            .then(() => {
              specialPlayBtn.querySelector('i').className = 'fas fa-pause';
              specialPlayer.classList.add('playing');
            })
            .catch(err => {
              console.error('Error playing Scott Street:', err);
              specialPlayBtn.querySelector('i').className = 'fas fa-play';
              specialPlayer.classList.remove('playing');
            });
        } else {
          specialAudio.pause();
          specialPlayBtn.querySelector('i').className = 'fas fa-play';
          specialPlayer.classList.remove('playing');
        }
      });
      
      // Update progress for Scott Street
      specialAudio.addEventListener('timeupdate', () => {
        const currentTime = specialAudio.currentTime;
        const duration = specialAudio.duration || 1;
        const progressPercent = (currentTime / duration) * 100;
        
        specialProgressBar.style.width = `${progressPercent}%`;
        
        // Update time
        const minutesCurrent = Math.floor(currentTime / 60);
        const secondsCurrent = Math.floor(currentTime % 60);
        specialCurrentTime.textContent = `${minutesCurrent}:${secondsCurrent < 10 ? '0' : ''}${secondsCurrent}`;
        
        // Update duration
        if (duration !== Infinity && !isNaN(duration)) {
          const minutesDuration = Math.floor(duration / 60);
          const secondsDuration = Math.floor(duration % 60);
          specialDuration.textContent = `${minutesDuration}:${secondsDuration < 10 ? '0' : ''}${secondsDuration}`;
        }
        
        // Update lyrics highlighting
        updateLyricHighlighting(currentTime);
      });
      
      // Function to update lyrics highlighting
      function updateLyricHighlighting(currentTime) {
        const lyrics = document.querySelectorAll('.lyrics-content p[data-time]');
        const lyricsContainer = document.querySelector('.lyrics-container');
        let activelyric = null;
        
        if (!lyrics.length || !lyricsContainer) return;
        
        // Remove active class from all lyrics
        lyrics.forEach(lyric => {
          lyric.classList.remove('active');
        });
        
        // Find the current lyric based on time
        for (let i = lyrics.length - 1; i >= 0; i--) {
          const lyricTime = parseFloat(lyrics[i].getAttribute('data-time'));
          if (currentTime >= lyricTime) {
            activelyric = lyrics[i];
            break;
          }
        }
        
        // Add active class to current lyric and scroll to it
        if (activelyric) {
          activelyric.classList.add('active');
          
          // Auto-scroll to the active lyric with smooth scrolling
          const containerHeight = lyricsContainer.offsetHeight;
          const lyricPosition = activelyric.offsetTop - lyricsContainer.offsetTop;
          const lyricHeight = activelyric.offsetHeight;
          
          // Scroll to position the active lyric in the center of the container
          const scrollPosition = lyricPosition - (containerHeight / 2) + (lyricHeight / 2);
          
          lyricsContainer.scrollTo({
            top: scrollPosition,
            behavior: 'smooth'
          });
        }
      }
      
      // Click on progress bar to seek for Scott Street
      specialProgressContainer.addEventListener('click', (e) => {
        const width = specialProgressContainer.clientWidth;
        const clickX = e.offsetX;
        const duration = specialAudio.duration;
        
        if (duration !== Infinity && !isNaN(duration)) {
          specialAudio.currentTime = (clickX / width) * duration;
        }
      });
      
      // Reset when Scott Street ends
      specialAudio.addEventListener('ended', () => {
        specialPlayBtn.querySelector('i').className = 'fas fa-play';
        specialProgressBar.style.width = '0%';
        specialPlayer.classList.remove('playing');
      });
      
      // Initialize the playlist
      if (filteredSongs.length > 0) {
        loadSongs();
        loadSong(0);
      }
      
      // Initialize flash cards on page load
      updateFlashCards();
    });
  </script>
  
  <!-- Back to Story Button -->
  <a href="index.html" class="back-to-story-btn">
    <i class="fas fa-arrow-left"></i> Back to Our Story
  </a>
</body>
</html> 